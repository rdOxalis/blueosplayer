package main

// Language support
type Language string

const (
	LangEnglish Language = "en"
	LangGerman  Language = "de"
	LangSwahili Language = "sw"
)

var currentLanguage = LangEnglish

// Localization texts
var texts = map[Language]map[string]string{
	LangEnglish: {
		"title":                   "ğŸµ Multi-Room Audio Controller",
		"scanning":                "ğŸ” Scanning network for audio players...",
		"scanning_network":        "   Scanning network: %s",
		"scanning_interface":      "   Interface %s: %s",
		"found_player":            "   âœ… Found: %s (%s) at %s",
		"no_players":              "no audio players found",
		"could_not_determine_ip":  "could not determine local IP: %w",
		"available_players":       "ğŸ“± Available Players:",
		"select_player":           "Select a player (1-%d): ",
		"invalid_selection":       "âŒ Invalid selection",
		"connected_to":            "âœ… Connected to: %s (%s)",
		"error_selecting_player":  "Error selecting player: %v",
		"interactive_mode":        "ğŸµ Multi-Room Audio Controller - Interactive Mode",
		"separator":               "=======================================",
		"status_volume":           "ğŸ“Š Status: %s | Volume: %s",
		"volume_unknown":          "N/A",
		"error_retrieving_status": "âŒ Error retrieving status",
		"available_presets":       "ğŸ“‹ Available Presets/Favorites:",
		"error_loading_presets":   "âŒ Error loading presets/favorites",
		"available_commands":      "ğŸ® Available Commands:",
		"cmd_play_preset":         "play <id>   - Play preset/favorite",
		"cmd_play":                "play       - Start playback",
		"cmd_pause":               "pause      - Pause playback",
		"cmd_stop":                "stop       - Stop playback",
		"cmd_next":                "next       - Next track",
		"cmd_prev":                "prev       - Previous track",
		"cmd_volume":              "vol <0-100> - Set volume",
		"cmd_status":              "status     - Refresh status",
		"cmd_presets":             "presets    - Refresh presets/favorites",
		"cmd_help":                "help       - Show help",
		"cmd_lang":                "lang <en|de|sw> - Change language",
		"cmd_output":              "output <id> - Switch to player",
		"cmd_group":               "group <id1+id2> - Group players",
		"cmd_ungroup":             "ungroup - Remove all groups",
		"cmd_debug":               "debug - Show API endpoints",
		"cmd_quit":                "quit/exit  - Exit program",
		"prompt":                  "Command> ",
		"invalid_preset_id":       "âŒ Invalid preset/favorite ID",
		"error_playing_preset":    "âŒ Error playing preset/favorite",
		"playing_preset":          "âœ… Playing preset/favorite %d",
		"error_starting_playback": "âŒ Error starting playback",
		"playback_started":        "â–¶ï¸ Playback started",
		"error_pausing":           "âŒ Error pausing",
		"paused":                  "â¸ï¸ Paused",
		"error_stopping":          "âŒ Error stopping",
		"stopped":                 "â¹ï¸ Stopped",
		"error_next_track":        "âŒ Error skipping to next track",
		"next_track":              "â­ï¸ Next track",
		"error_prev_track":        "âŒ Error going to previous track",
		"prev_track":              "â®ï¸ Previous track",
		"volume_missing":          "âŒ Volume value missing",
		"invalid_volume":          "âŒ Invalid volume value",
		"error_setting_volume":    "âŒ Error setting volume",
		"volume_set":              "ğŸ”Š Volume set to %d%%",
		"language_changed":        "ğŸŒ Language changed to",
		"invalid_language":        "âŒ Invalid language. Use: en, de, sw",
		"goodbye":                 "ğŸ‘‹ Goodbye!",
		"unknown_command":         "âŒ Unknown command: %s (Type 'help' for help)",
		"last_action":             "Last Action:",
		"no_song_playing":         "No song playing",
		"available_outputs":       "ğŸ“± Available Players:",
		"current_player":          "Current Player:",
		"switched_to_player":      "ğŸ”„ Switched to player %d: %s",
		"invalid_player_id":       "âŒ Invalid player ID",
		"error_switching_player":  "âŒ Error switching to player",
		"grouped_players":         "ğŸ”— Grouped players: %s as master",
		"invalid_group_format":    "âŒ Invalid group format. Use: group <id1+id2>",
		"error_grouping":          "âŒ Error grouping players",
		"group_combinations":      "ğŸµ Group Combinations:",
		"ungrouped_all":           "ğŸ”“ All player groups removed",
		"error_ungrouping":        "âŒ Error removing groups",
		"scanning_interfaces":     "ğŸ” Found %d network interfaces to scan",
		"completed_scan":          "âœ… Completed scanning %d networks",
	},
	LangGerman: {
		"title":                   "ğŸµ Multi-Room Audio Controller",
		"scanning":                "ğŸ” Suche nach Audio-Playern im Netzwerk...",
		"scanning_network":        "   Scanne Netzwerk: %s",
		"scanning_interface":      "   Interface %s: %s",
		"found_player":            "   âœ… Gefunden: %s (%s) auf %s",
		"no_players":              "keine Audio-Player gefunden",
		"could_not_determine_ip":  "konnte lokale IP nicht ermitteln: %w",
		"available_players":       "ğŸ“± VerfÃ¼gbare Player:",
		"select_player":           "WÃ¤hle einen Player (1-%d): ",
		"invalid_selection":       "âŒ UngÃ¼ltige Auswahl",
		"connected_to":            "âœ… Verbunden mit: %s (%s)",
		"error_selecting_player":  "Fehler bei der Player-Auswahl: %v",
		"interactive_mode":        "ğŸµ Multi-Room Audio Controller - Interaktiver Modus",
		"separator":               "==========================================",
		"status_volume":           "ğŸ“Š Status: %s | LautstÃ¤rke: %s",
		"volume_unknown":          "N/A",
		"error_retrieving_status": "âŒ Fehler beim Abrufen des Status",
		"available_presets":       "ğŸ“‹ VerfÃ¼gbare Presets/Favoriten:",
		"error_loading_presets":   "âŒ Fehler beim Laden der Presets/Favoriten",
		"available_commands":      "ğŸ® VerfÃ¼gbare Befehle:",
		"cmd_play_preset":         "play <id>   - Preset/Favorit abspielen",
		"cmd_play":                "play       - Wiedergabe starten",
		"cmd_pause":               "pause      - Pausieren",
		"cmd_stop":                "stop       - Stoppen",
		"cmd_next":                "next       - NÃ¤chster Titel",
		"cmd_prev":                "prev       - Vorheriger Titel",
		"cmd_volume":              "vol <0-100> - LautstÃ¤rke setzen",
		"cmd_status":              "status     - Status aktualisieren",
		"cmd_presets":             "presets    - Presets/Favoriten aktualisieren",
		"cmd_help":                "help       - Hilfe anzeigen",
		"cmd_lang":                "lang <en|de|sw> - Sprache Ã¤ndern",
		"cmd_output":              "output <id> - Zu Player wechseln",
		"cmd_group":               "group <id1+id2> - Player gruppieren",
		"cmd_ungroup":             "ungroup - Alle Gruppen auflÃ¶sen",
		"cmd_debug":               "debug - API-Endpunkte anzeigen",
		"cmd_quit":                "quit/exit  - Programm beenden",
		"prompt":                  "Befehl> ",
		"invalid_preset_id":       "âŒ UngÃ¼ltige Preset/Favoriten-ID",
		"error_playing_preset":    "âŒ Fehler beim Abspielen",
		"playing_preset":          "âœ… Preset/Favorit %d wird abgespielt",
		"error_starting_playback": "âŒ Fehler beim Starten",
		"playback_started":        "â–¶ï¸ Wiedergabe gestartet",
		"error_pausing":           "âŒ Fehler beim Pausieren",
		"paused":                  "â¸ï¸ Pausiert",
		"error_stopping":          "âŒ Fehler beim Stoppen",
		"stopped":                 "â¹ï¸ Gestoppt",
		"error_next_track":        "âŒ Fehler beim Weiterschalten",
		"next_track":              "â­ï¸ NÃ¤chster Titel",
		"error_prev_track":        "âŒ Fehler beim ZurÃ¼ckschalten",
		"prev_track":              "â®ï¸ Vorheriger Titel",
		"volume_missing":          "âŒ LautstÃ¤rke-Wert fehlt",
		"invalid_volume":          "âŒ UngÃ¼ltiger LautstÃ¤rke-Wert",
		"error_setting_volume":    "âŒ Fehler beim Setzen der LautstÃ¤rke",
		"volume_set":              "ğŸ”Š LautstÃ¤rke auf %d%% gesetzt",
		"language_changed":        "ğŸŒ Sprache geÃ¤ndert zu",
		"invalid_language":        "âŒ UngÃ¼ltige Sprache. Verwende: en, de, sw",
		"goodbye":                 "ğŸ‘‹ Auf Wiedersehen!",
		"unknown_command":         "âŒ Unbekannter Befehl: %s (Tippe 'help' fÃ¼r Hilfe)",
		"last_action":             "Letzte Aktion:",
		"no_song_playing":         "Kein Lied wird abgespielt",
		"available_outputs":       "ğŸ“± VerfÃ¼gbare Player:",
		"current_player":          "Aktueller Player:",
		"switched_to_player":      "ğŸ”„ Gewechselt zu Player %d: %s",
		"invalid_player_id":       "âŒ UngÃ¼ltige Player-ID",
		"error_switching_player":  "âŒ Fehler beim Wechseln des Players",
		"grouped_players":         "ğŸ”— Player gruppiert: %s als Master",
		"invalid_group_format":    "âŒ UngÃ¼ltiges Gruppen-Format. Verwende: group <id1+id2>",
		"error_grouping":          "âŒ Fehler beim Gruppieren",
		"group_combinations":      "ğŸµ Gruppen-Kombinationen:",
		"ungrouped_all":           "ğŸ”“ Alle Player-Gruppen aufgelÃ¶st",
		"error_ungrouping":        "âŒ Fehler beim AuflÃ¶sen der Gruppen",
		"scanning_interfaces":     "ğŸ” %d Netzwerkschnittstellen gefunden zum Scannen",
		"completed_scan":          "âœ… Scannen von %d Netzwerken abgeschlossen",
	},
	LangSwahili: {
		"title":                   "ğŸµ Kidhibiti cha Audio ya Multi-Room",
		"scanning":                "ğŸ” Kutafuta vichezaji vya audio kwenye mtandao...",
		"scanning_network":        "   Kutafuta mtandao: %s",
		"scanning_interface":      "   Interface %s: %s",
		"found_player":            "   âœ… Kumepatikana: %s (%s) kwa %s",
		"no_players":              "hakuna vichezaji vya audio vilivopatikana",
		"could_not_determine_ip":  "haikuweza kutambua IP ya ndani: %w",
		"available_players":       "ğŸ“± Vichezaji Vinavyopatikana:",
		"select_player":           "Chagua kichezaji (1-%d): ",
		"invalid_selection":       "âŒ Chaguo batili",
		"connected_to":            "âœ… Imeunganishwa na: %s (%s)",
		"error_selecting_player":  "Hitilafu katika kuchagua kichezaji: %v",
		"interactive_mode":        "ğŸµ Kidhibiti cha Audio ya Multi-Room - Hali ya Maingiliano",
		"separator":               "===========================================",
		"status_volume":           "ğŸ“Š Hali: %s | Sauti: %s",
		"volume_unknown":          "N/A",
		"error_retrieving_status": "âŒ Hitilafu katika kupata hali",
		"available_presets":       "ğŸ“‹ Mipangilio/Vipendwa Vinavyopatikana:",
		"error_loading_presets":   "âŒ Hitilafu katika kupakia mipangilio/vipendwa",
		"available_commands":      "ğŸ® Amri Zinazopatikana:",
		"cmd_play_preset":         "play <id>   - Cheza mpangilio/kipendwa",
		"cmd_play":                "play       - Anza kucheza",
		"cmd_pause":               "pause      - Simamisha",
		"cmd_stop":                "stop       - Acha",
		"cmd_next":                "next       - Wimbo ujao",
		"cmd_prev":                "prev       - Wimbo uliopita",
		"cmd_volume":              "vol <0-100> - Weka sauti",
		"cmd_status":              "status     - Onyesha hali",
		"cmd_presets":             "presets    - Onyesha mipangilio/vipendwa",
		"cmd_help":                "help       - Onyesha msaada",
		"cmd_lang":                "lang <en|de|sw> - Badilisha lugha",
		"cmd_output":              "output <id> - Badili kichezaji",
		"cmd_group":               "group <id1+id2> - Unganisha vichezaji",
		"cmd_ungroup":             "ungroup - Ondoa vikundi vyote",
		"cmd_debug":               "debug - Onyesha API endpoints",
		"cmd_quit":                "quit/exit  - Toka programu",
		"prompt":                  "Amri> ",
		"invalid_preset_id":       "âŒ Kitambulisho cha mpangilio/kipendwa si halali",
		"error_playing_preset":    "âŒ Hitilafu katika kucheza mpangilio/kipendwa",
		"playing_preset":          "âœ… Kucheza mpangilio/kipendwa %d",
		"error_starting_playback": "âŒ Hitilafu katika kuanza kucheza",
		"playback_started":        "â–¶ï¸ Imeanza kucheza",
		"error_pausing":           "âŒ Hitilafu katika kusimamisha",
		"paused":                  "â¸ï¸ Imesimamishwa",
		"error_stopping":          "âŒ Hitilafu katika kuacha",
		"stopped":                 "â¹ï¸ Imeachwa",
		"error_next_track":        "âŒ Hitilafu katika kuruka wimbo ujao",
		"next_track":              "â­ï¸ Wimbo ujao",
		"error_prev_track":        "âŒ Hitilafu katika kurudi wimbo uliopita",
		"prev_track":              "â®ï¸ Wimbo uliopita",
		"volume_missing":          "âŒ Thamani ya sauti inakosekana",
		"invalid_volume":          "âŒ Thamani ya sauti si halali",
		"error_setting_volume":    "âŒ Hitilafu katika kuweka sauti",
		"volume_set":              "ğŸ”Š Sauti imewekwa %d%%",
		"language_changed":        "ğŸŒ Lugha imebadilishwa kuwa",
		"invalid_language":        "âŒ Lugha si halali. Tumia: en, de, sw",
		"goodbye":                 "ğŸ‘‹ Kwaheri!",
		"unknown_command":         "âŒ Amri isiyojulikana: %s (Andika 'help' kwa msaada)",
		"last_action":             "Kitendo cha Mwisho:",
		"no_song_playing":         "Hakuna wimbo unaochezwa",
		"available_outputs":       "ğŸ“± Vichezaji Vinavyopatikana:",
		"current_player":          "Kichezaji cha Sasa:",
		"switched_to_player":      "ğŸ”„ Imebadilishwa kwa kichezaji %d: %s",
		"invalid_player_id":       "âŒ Kitambulisho cha kichezaji si halali",
		"error_switching_player":  "âŒ Hitilafu katika kubadili kichezaji",
		"grouped_players":         "ğŸ”— Vichezaji vimeunganishwa: %s kama mkuu",
		"invalid_group_format":    "âŒ Muundo wa kikundi si halali. Tumia: group <id1+id2>",
		"error_grouping":          "âŒ Hitilafu katika kuunganisha",
		"group_combinations":      "ğŸµ Miunganiko ya Vikundi:",
		"ungrouped_all":           "ğŸ”“ Vikundi vyote vya vichezaji vimeondolewa",
		"error_ungrouping":        "âŒ Hitilafu katika kuondoa vikundi",
		"scanning_interfaces":     "ğŸ” Kumepatikana %d network interfaces za kutafuta",
		"completed_scan":          "âœ… Imemaliza kutafuta %d mitandao",
	},
}

// Helper function to get localized text
func getText(key string) string {
	if text, exists := texts[currentLanguage][key]; exists {
		return text
	}
	// Fallback to English if key not found
	if text, exists := texts[LangEnglish][key]; exists {
		return text
	}
	return key // Return key as fallback
}
